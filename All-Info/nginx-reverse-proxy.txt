

sudo apt install certbot nginx python3-certbot-nginx

sudo rm -rf /etc/nginx/sites-enabled/default 

sudo nano /etc/nginx/sites-available/example

server {
	listen 80;
	server_name example.com;
	
	location /{
	  proxy_pass http://localhost:port/;
	  proxy_set_header X-Real-IP $remote_addr;
	  proxy_set_header X-Forwarded-Host $host;
	  proxy_set_header X-Forwarded-Port $server_port;
      proxy_set_header X-Forwarded-Proto https;
	}
	
	location /.well-known {
        alias /var/www/example.com;
    }
}

sudo mkdir -p /var/www/example.com

sudo ln -s /etc/nginx/sites-available/example /etc/nginx/sites-enabled/example

sudo systemctl status nginx
sudo systemctl restart nginx
sudo systemctl status nginx

sudo certbot --nginx 

sudo crontab -l

sudo crontab -e
nano


# minute (m), hour (h), day of month (dom), month (mon),
# and day of week (dow) or use '*' in these fields (for 'any').
0 20 * * 1 certbot renew

CTRL + o
CTRL + x

sudo crontab -l







BitWardenRS:

WEBSOCKET_ENABLED: 'true'

sudo nano /etc/nginx/sites-available/bwrs

server {
	listen 80;
	server_name bw.example.com;
	
	location / {
		proxy_pass http://localhost:8100/;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header X-Forwarded-Proto $scheme;
		
		client_max_body_size 0;
		add_header Strict-Transport-Security "max-age=31536000; includeSubDomains; preload";
		add_header Referrer-Policy "same-origin";
		
		access_log /var/log/nginx/bitwarden.access.log;
		error_log /var/log/nginx/bitwarden.error.log;
	}
	
	location /.well-known {
		alias /var/www/bw.example.com;
	}

}





